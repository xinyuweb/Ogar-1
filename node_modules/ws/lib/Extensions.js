function parse(r){r=r||"";var t={};return r.split(",").forEach(function(r){var n=r.split(";"),i=n.shift().trim(),e=t[i]=t[i]||[],u={};n.forEach(function(r){var t=r.trim().split("="),n=t[0],i=t[1];"undefined"==typeof i?i=!0:('"'===i[0]&&(i=i.slice(1)),'"'===i[i.length-1]&&(i=i.slice(0,i.length-1))),(u[n]=u[n]||[]).push(i)}),e.push(u)}),t}function format(r){return Object.keys(r).map(function(t){var n=r[t];return util.isArray(n)||(n=[n]),n.map(function(r){return[t].concat(Object.keys(r).map(function(t){var n=r[t];return util.isArray(n)||(n=[n]),n.map(function(r){return r===!0?t:t+"="+r}).join("; ")})).join("; ")}).join(", ")}).join(", ")}var util=require("util");exports.parse=parse,exports.format=format;